### 클라이언트에서 서버로 데이터 전송

- 방식은 크게 2가지
  - 쿼리파라미터를 통한 데이터전송 (GET 주로 정렬 필터)
  - 메시지 바디를 이용한 데이터 전송(POST,PUT,PATCH 회원가입, 상품 주문, 리소스 등록, 리소스 변경)
- 클라이언트에서 서버로 데이터 전송할 때 여러 상황중 4가지
  1. 정적 데이터 조회(이미지, 정적 텍스트문서)
     - 쿼리 파라미터 미사용
     - 조회는 GET사용
     - 쿼리 파라미터 없이 단순 리소스경로로 조회 가능
  2. 동적 데이터 조회(주로 검색, 게시판 목록에서 필터)
     - 쿼리 파라미터를 기반으로 필터해서 결과를 동적으로 생성
     - 조회는 GET 사용
     - GET은 쿼리 파라미터를 사용하여 데이터 전송
  3. HTML FORM 전송(회원가입, 상품주문, 데이터 변경)
     - GET과 POST 만 사용가능하고 GET은 데이터 변경이 있는 곳에는 사용하면 안된다.
     - FORM 사용시 POST를 전송
     - Content-Type: application/x-www-form-urlencoded 사용
       - form내용을 메시지 바디에 담아서 전송
       - 전송 데이터를 url encoding 처리
  4. HTTP API 데이터 전송
     - 서버 to 서버
     - 앱 클라이언트
     - 웹 클라이언트
       - HTML에서 Form 전송 대신 자바스크립트를 통한 통신에 사용(AJAX)
     - POST와 PUT PATCH : 메시지 바디에 데이터를 담아 전송
     - GET : 조회, 쿼리바라미터로 데이터 전송
     - Content-Type: application/json을 주로 사용 (사실상 표준)

### HTTP API 설계 예시

- 회원관리 시스템(POST 기반)
  - 클라이언트는 등록될 리소스의 URI 모른다.
    - 회원등록 /members/ POST요청으로
  - 서버가 새로 등록된 리소스 URI를 생성해준다.
    - HTTP/1.1 201 Created Location:/members/100
  - 컬렉션(Collection)
    - 서버가 리소스를 관리하는 디렉토리
    - 서버가 리소스의 URI를 생성하고 관리
- 파일 등록 시스템 (PUT 기반)
  - 클라이언트가 리소스 URI를 알고 있어야 한다.
    - 파일등록 /files/{filename} PUT요청
  - 클라이언트가 직접 리소스 URI를 지정한다.
  - 스토어(Store)
    - 클라이언트가 관리하는 리소스 저장소
    - 클라이언트가 리소스를 알고 URI를 관리함
- HTML FORM 사용
  - GET과 POST만 사용
  - 두가지 메서드만 지원하므로 제약이 있음
  - 이를 컨트롤 URI로 해결
    - 동사로된 리소스 경로 사용
    - POST의 /new, /edit, /delete 같은 컨트롤 URI 사용
    - HTTP 메서드로 해결하기 애매한 경우 사용(HTTP API 포함)

### 참고하면 좋은 URI 개념

1. 문서 (document)
   - 단일 개념(파일하나, 객체 인스턴스, 데이터베이스 row)
2. 컬렉션 (collection)
   - 서버가 관리하는 리소스디렉터리
   - 서버가 리소스를 관리하고 URI를 생성
3. 스토어 (store)
   - 클라이언트가 관리하는 자원 저장소
   - 클라이언트가 URI를 알고 관리
4. 컨트롤러(controller),컨트롤 URI
   - 문서, 컬렉션, 스토어로 해결하기 어려운 추가 프로세스 실행
   - 동사를 직접사용
